<!DOCTYPE html>
<html lang="ja">
 <head>
  <title>CX's Canvas World!</title>
 </head>
 <div style="display: flex;">
<div id="panel" style="width: 300px;">
<table border=0>
<tr><td>
■CX's Canvas World!<br>
├三角関数<br>
｜├<a href="./1-1.graph.html" target="main">方眼用紙</a><br>
｜├<a href="./1-2.sincurve.html" target="main">Sin カーブ</a><br>
｜├<a href="./1-3.coscurve.html" target="main">Cos カーブ</a><br>
｜├<a href="./1-4.sincos.html" target="main">Sin/Cos カーブ</a><br>
｜├<a href="./1-5.lissajous.html" target="main">リサージュ図形</a><br>
｜├<a href="./1-6.harmonograph.html" target="main">ハーモノグラフ</a><br>
｜└<a href="./1-7.wave.html" target="main">波</a><br>
├フラクタル<br>
｜├<a href="./2-1.koch1.html" target="main">コッホ曲線1</a><br>
｜├<a href="./2-2.koch2.html" target="main">コッホ曲線2</a><br>
｜├<a href="./2-3.triangle.html" target="main">シェルピンスキー</a><br>
｜├<a href="./2-4.stech.html" target="main">クロスステッチ</a><br>
｜├<a href="./2-5.tree.html" target="main">樹木曲線</a><br>
｜├<a href="./2-6.fern.html" target="main">シダ</a><br>
｜├<a href="./2-7.ccurve.html" target="main">C曲線</a><br>
｜└<a href="./2-8.dragon.html" target="main">ドラゴン曲線</a><br>
├宇宙<br>
｜├<a href="./3-1.space1.html" target="main">宇宙1</a><br>
｜├<a href="./3-2.space2.html" target="main">宇宙2</a><br>
｜├<a href="./3-3.space3.html" target="main">宇宙3</a><br>
｜└<a href="./3-4.space4.html" target="main">宇宙4</a><br>
├立体<br>
｜├<a href="./4-1.cube1.html" target="main">ワイヤフレーム</a><br>
｜├<a href="./4-2.cube2.html" target="main">立方体</a><br>
｜├<a href="./4-3.globe.html" target="main">球体</a><br>
｜└<a href="./4-4.mario.html" target="main">マリオ</a><br>
└文字<br>
　├<a href="./5-1.alphabet.html" target="main">ランダム</a><br>
　└<a href="./5-2.matrix.html" target="main">マトリックス</a><br>
</td>
<td>
</td>
</tr>
</table>
</div>
<div style="display: auto">
 <iframe name="main" style="position: absolute; width: 100%; height: 100%; overflow: auto">
 </iframe>
</div>
</div>
<script>
window.onload = function() {
    let hash = location.hash;
    let url = getUrlfromHash(hash);
    navigateInnerFrame(url);
}

// TODO: https://threejs.org/examples/ のサンプル一覧画面のようなナビゲーションを実現する
// アドレスバーにはサンプルに対応したハッシュ「#～」を表示し、
// 内部フレームにはクリックしたサンプルが表示される。
// また、サンプルURLを新しいウィンドウで開くと、直接サンプルのURLが表示される
window.addEventListener("click", {
    handleEvent: function(e) {
        let hash = e.target.hash;
        let pathname = e.target.pathname;
        let url = e.target.href;
        // URL にハッシュ部分が設定されていない場合
        if (hash.length == 0 ) {
            // URL を「#～」に置き換える
            // 例）「/1-5.lissajous.html」→「#1-5.lissajous」
            hash = pathname.replace("/", "#").replace(".html", "");
            // アドレスバーの URL に「#～」を付与する
            location.href = hash;
        }
        // 内部フレームをクリックされた URL に変更する
        navigateInnerFrame(url);
    }
}, false);

function getUrlfromHash(hash) {
    if ( hash.length > 0 ) {
        return hash.replace("#", "./") + ".html";
    } else {
        return "./1-1.graph.html"; // default
    }
}

function navigateInnerFrame(url) {
    main.location.href = url;
}
</script>
</html>
